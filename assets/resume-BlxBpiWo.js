import{p as e,a,w as T,A as I,x as U,v as L}from"./chunk-OIYGIGL5-BqXurzTp.js";import{c as f}from"./utils-LCX7tCys.js";import{A as B,a as d,b as x,c as m}from"./Accordion-D2aHGLYf.js";import{u as G}from"./puter-iz0Rs9wD.js";const P=({score:s,suggestions:t})=>{const l=s>69?"from-green-100":s>49?"from-yellow-100":"from-red-100",r=s>69?"/icons/ats-good.svg":s>49?"/icons/ats-warning.svg":"/icons/ats-bad.svg",n=s>69?"Great Job!":s>49?"Good Start":"Needs Improvement";return e.jsxs("div",{className:`bg-gradient-to-b ${l} to-white rounded-2xl shadow-md w-full p-6`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("img",{src:r,alt:"ATS Score Icon",className:"w-12 h-12"}),e.jsx("div",{children:e.jsxs("h2",{className:"text-2xl font-bold",children:["ATS Score - ",s,"/100"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:n}),e.jsx("p",{className:"text-gray-600 mb-4",children:"This score represents how well your resume is likely to perform in Applicant Tracking Systems used by employers."}),e.jsx("div",{className:"space-y-3",children:t.map((c,j)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:c.type==="good"?"/icons/check.svg":"/icons/warning.svg",alt:c.type==="good"?"Check":"Warning",className:"w-5 h-5 mt-1"}),e.jsx("p",{className:c.type==="good"?"text-green-700":"text-amber-700",children:c.tip})]},j))})]}),e.jsx("p",{className:"text-gray-700 italic",children:"Keep refining your resume to improve your chances of getting past ATS filters and into the hands of recruiters."})]})},$=({score:s})=>e.jsxs("div",{className:f("flex flex-row gap-1 items-center px-2 py-0.5 rounded-[96px]",s>69?"bg-badge-green":s>39?"bg-badge-yellow":"bg-badge-red"),children:[e.jsx("img",{src:s>69?"/icons/check.svg":"/icons/warning.svg",alt:"score",className:"size-4"}),e.jsxs("p",{className:f("text-sm font-medium",s>69?"text-badge-green-text":s>39?"text-badge-yellow-text":"text-badge-red-text"),children:[s,"/100"]})]}),g=({title:s,categoryScore:t})=>e.jsxs("div",{className:"flex flex-row gap-4 items-center py-2",children:[e.jsx("p",{className:"text-2xl font-semibold",children:s}),e.jsx($,{score:t})]}),h=({tips:s})=>e.jsxs("div",{className:"flex flex-col gap-4 items-center w-full",children:[e.jsx("div",{className:"bg-gray-50 w-full rounded-lg px-5 py-4 grid grid-cols-2 gap-4",children:s.map((t,l)=>e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx("img",{src:t.type==="good"?"/icons/check.svg":"/icons/warning.svg",alt:"score",className:"size-5"}),e.jsx("p",{className:"text-xl text-gray-500 ",children:t.tip})]},l))}),e.jsx("div",{className:"flex flex-col gap-4 w-full",children:s.map((t,l)=>e.jsxs("div",{className:f("flex flex-col gap-2 rounded-2xl p-4",t.type==="good"?"bg-green-50 border border-green-200 text-green-700":"bg-yellow-50 border border-yellow-200 text-yellow-700"),children:[e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx("img",{src:t.type==="good"?"/icons/check.svg":"/icons/warning.svg",alt:"score",className:"size-5"}),e.jsx("p",{className:"text-xl font-semibold",children:t.tip})]}),e.jsx("p",{children:t.explanation})]},l+t.tip))})]}),E=({feedback:s})=>e.jsx("div",{className:"flex flex-col gap-4 w-full",children:e.jsxs(B,{children:[e.jsxs(d,{id:"tone-style",children:[e.jsx(x,{itemId:"tone-style",children:e.jsx(g,{title:"Tone & Style",categoryScore:s.toneAndStyle.score})}),e.jsx(m,{itemId:"tone-style",children:e.jsx(h,{tips:s.toneAndStyle.tips})})]}),e.jsxs(d,{id:"content",children:[e.jsx(x,{itemId:"content",children:e.jsx(g,{title:"Content",categoryScore:s.content.score})}),e.jsx(m,{itemId:"content",children:e.jsx(h,{tips:s.content.tips})})]}),e.jsxs(d,{id:"structure",children:[e.jsx(x,{itemId:"structure",children:e.jsx(g,{title:"Structure",categoryScore:s.structure.score})}),e.jsx(m,{itemId:"structure",children:e.jsx(h,{tips:s.structure.tips})})]}),e.jsxs(d,{id:"skills",children:[e.jsx(x,{itemId:"skills",children:e.jsx(g,{title:"Skills",categoryScore:s.skills.score})}),e.jsx(m,{itemId:"skills",children:e.jsx(h,{tips:s.skills.tips})})]})]})}),D=({score:s=75})=>{const[t,l]=a.useState(0),r=a.useRef(null),n=s/100;return a.useEffect(()=>{r.current&&l(r.current.getTotalLength())},[]),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"relative w-40 h-20",children:[e.jsxs("svg",{viewBox:"0 0 100 50",className:"w-full h-full",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#a78bfa"}),e.jsx("stop",{offset:"100%",stopColor:"#fca5a5"})]})}),e.jsx("path",{d:"M10,50 A40,40 0 0,1 90,50",fill:"none",stroke:"#e5e7eb",strokeWidth:"10",strokeLinecap:"round"}),e.jsx("path",{ref:r,d:"M10,50 A40,40 0 0,1 90,50",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"10",strokeLinecap:"round",strokeDasharray:t,strokeDashoffset:t*(1-n)})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pt-2",children:e.jsxs("div",{className:"text-xl font-semibold pt-4",children:[s,"/100"]})})]})})},W=({score:s})=>{let t="",l="";return s>70?(t="bg-badge-green text-green-600",l="Strong"):s>49?(t="bg-badge-yellow text-yellow-600",l="Good Start"):(t="bg-badge-red text-red-600",l="Needs Work"),e.jsx("div",{className:`px-3 py-1 rounded-full ${t}`,children:e.jsx("p",{className:"text-sm font-medium",children:l})})},u=({title:s,score:t})=>{const l=t>70?"text-green-600":t>49?"text-yellow-600":"text-red-600";return e.jsx("div",{className:"resume-summary",children:e.jsxs("div",{className:"category",children:[e.jsxs("div",{className:"flex flex-row gap-2 items-center justify-center",children:[e.jsx("p",{className:"text-2xl",children:s}),e.jsx(W,{score:t})]}),e.jsxs("p",{className:"text-2xl",children:[e.jsx("span",{className:l,children:t}),"/100"]})]})})},z=({feedback:s})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-md w-full",children:[e.jsxs("div",{className:"flex flex-row items-center p-4 gap-8",children:[e.jsx(D,{score:s.overallScore}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h2",{className:"text-2xl font-bold ",children:"Your Resume Score"}),e.jsx("p",{className:"text-sm text-gray-500",children:"This score is calculated based on the variables listed below."})]})]}),e.jsx(u,{title:"Tone & Style",score:s.toneAndStyle.score}),e.jsx(u,{title:"Content",score:s.content.score}),e.jsx(u,{title:"Structure",score:s.structure.score}),e.jsx(u,{title:"Skills",score:s.skills.score})]}),Y=()=>[{title:"Resu-Match AI | Review"},{name:"description",content:"Detailed overview of your resume"}],H=()=>{const{id:s}=I(),{auth:t,isLoading:l,fs:r,kv:n}=G(),[c,j]=a.useState(""),[p,S]=a.useState(""),[i,k]=a.useState(null);a.useEffect(()=>{!l&&!t.isAuthenticated&&A(`/auth?next=/resume${s}`)},[l]);const A=U();a.useEffect(()=>{C()},[s]);const C=async()=>{const b=await n.get(`resume:${s}`);if(!b)return;const o=JSON.parse(b),N=await r.read(o.resumePath);if(!N)return;const R=new Blob([N],{type:"application/pdf"}),v=URL.createObjectURL(R);S(v);const y=await r.read(o.imagePath);if(!y)return;const w=URL.createObjectURL(y);j(w),k(o.feedback),console.log({resumeUrl:v,imageUrl:w,feedback:o.feedback})};return e.jsxs("main",{className:"!pt-0",children:[e.jsx("nav",{className:"resume-nav",children:e.jsxs(L,{to:"/",className:"back-button",children:[e.jsx("img",{src:"/icons/back.svg",alt:"logo ",className:"w-2.5 h-2.5"}),e.jsx("span",{className:"text-gray-800 text-sm font-semibold",children:"Back to Homepage"})]})}),e.jsxs("div",{className:"flex flex-row w-full max-lg:flex-col-reverse",children:[e.jsx("section",{className:"feedback-section bg-[url('/images/bg-small.svg') bg-cover h-[100vh] sticky top-0 items-center justify-center",children:c&&p&&e.jsx("div",{className:" animate-in fade-in duration-1000 gradient-border max-sm:m-0 h-[90%] max-w-xl:h-fit w-fit",children:e.jsx("a",{href:p,target:"_blank",children:e.jsx("img",{src:c,className:"h-full w-full object-contain rounded-2xl",title:"resume"})})})}),e.jsxs("section",{className:"feedback-section",children:[e.jsx("h2",{className:"text-4xl !text-black font-bold",children:"Resume Review"}),i?e.jsxs("div",{className:"flex flex-col gap-8 animate-in fade-in duration-1000",children:[e.jsx(z,{feedback:i}),e.jsx(P,{score:i.ATS.score||0,suggestions:i.ATS.tips||[]}),e.jsx(E,{feedback:i})]}):e.jsx("img",{src:"/images/resume-scan-2.gif",className:"w-full"})]})]})]})},_=T(H);export{_ as default,Y as meta};

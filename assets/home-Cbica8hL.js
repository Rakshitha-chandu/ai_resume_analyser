import{p as e,a as o,v as f,w as p,x as g}from"./chunk-OIYGIGL5-BqXurzTp.js";import{N as v}from"./Navbar-C1U0hlC4.js";import"./Accordion-D2aHGLYf.js";import{u as h}from"./puter-iz0Rs9wD.js";import"./utils-LCX7tCys.js";const N=({score:n=75})=>{const r=2*Math.PI*36,s=n/100,l=r*(1-s);return e.jsxs("div",{className:"relative w-[100px] h-[100px]",children:[e.jsxs("svg",{height:"100%",width:"100%",viewBox:"0 0 100 100",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"#e5e7eb",strokeWidth:8,fill:"transparent"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"grad",x1:"1",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#FF97AD"}),e.jsx("stop",{offset:"100%",stopColor:"#5171FF"})]})}),e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"url(#grad)",strokeWidth:8,fill:"transparent",strokeDasharray:r,strokeDashoffset:l,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm",children:`${n}/100`})})]})},b=({resume:{id:n,companyName:t,jobTitle:a,feedback:d,imagePath:r}})=>{const[s,l]=o.useState(""),{fs:i}=h();return o.useEffect(()=>{(async()=>{const c=await i.read(r);if(!c)return;let u=URL.createObjectURL(c);l(u)})()},[r]),e.jsxs(f,{to:`/resume/${n}`,className:"resume-card animate-in fade-in duration-1000",children:[e.jsxs("div",{className:"resume-card-header",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[t&&e.jsxs("h2",{className:"text-black font-bold break-words",children:[t," "]}),a&&e.jsx("h3",{className:"text-lg break-words text-gray-500",children:a}),!t&&!a&&e.jsx("h2",{className:"!text-black font-bold",children:"Resume"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(N,{score:d.overallScore})})]}),s&&e.jsx("div",{className:"gradient-border animate-in fade-in duration-1000",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("img",{src:s,alt:"resume",className:"w-full h-[350px] max-sm:h-[200px] object-cover object-top"})})})]})};function A({}){return[{title:"Resu-Match AI"},{name:"description",content:"Smart Feedback for your dream job!"}]}const U=p(function(){const{auth:t,isLoading:a,kv:d}=h(),r=g(),[s,l]=o.useState([]),[i,m]=o.useState(!1);return o.useEffect(()=>{!a&&!t.isAuthenticated&&r("/auth?next=/")},[t.isAuthenticated]),o.useEffect(()=>{(async()=>{m(!0);const x=(await d.list("resume:*",!0))?.map(j=>JSON.parse(j.value));console.log(x),l(x||[]),m(!1)})()},[]),e.jsxs("main",{className:"bg-[url('/images/bg-main.svg')] bg-cover",children:[e.jsx(v,{}),e.jsxs("section",{className:"main-section",children:[e.jsxs("div",{className:"page-heading py-16",children:[e.jsx("h1",{children:"Track Your Applictaions & Resume Ratings"}),!i&&s.length===0?e.jsx("h2",{children:"No resumes found. Upload your first resume to get feedback."}):e.jsx("h2",{children:"Review your submissions and check AI-powered feedback."})]}),i&&e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("img",{src:"/images/resume-scan-2.gif",className:"w-[200px]"})}),!i&&s.length>0&&e.jsx("div",{className:"resumes-section",children:s.map(c=>e.jsx(b,{resume:c},c.id))}),!i&&s?.length===0&&e.jsx("div",{className:"flex flex-col items-center justify-center mt-10 gap-4",children:e.jsx(f,{to:"/upload",className:"primary-button w-fit text-xl font-semibold",children:"Upload Resume"})})]})]})});export{U as default,A as meta};
